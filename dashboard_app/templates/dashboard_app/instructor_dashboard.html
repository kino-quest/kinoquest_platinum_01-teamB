{% extends 'dashboard_app/base.html' %}
{% block title %}ダッシュボード | スノトラ{% endblock %}
{% block content %}
<div class="flex min-h-screen bg-gray-50 p-6">
    <!-- 左カラム -->
    <div class="w-2/3 p-4 bg-white rounded-xl shadow-md">
        <!-- 出勤日表示 -->
        <div class="mb-6">
            <h2 class="text-xl font-semibold text-gray-800">今日 : {{ today|date:"Y 年 n 月 j 日" }}</h2>
        </div>
        <!-- 出勤日カレンダー -->
        <div>
            <h3 class="text-lg font-medium text-gray-700 mb-2">出勤カレンダー</h3>
            <div id="calendar" class="bg-white p-4 rounded shadow-md"></div>
        </div>
    </div>
    <!-- 右カラム -->
    <div class="w-1/3 p-4 ml-6 bg-white rounded-xl shadow-md">
        <!-- 本日の予約者表示 -->
        <h3 class="text-lg font-medium text-gray-700 mb-4">本日の予約者</h3>
        <ul class="space-y-4">
            <li class="p-4 bg-gray-100 rounded-lg">
            佐藤 花子（10:00〜11:00）
            </li>
            <li class="p-4 bg-gray-100 rounded-lg">
            鈴木 一郎（11:30〜12:30）
            </li>
            <li class="p-4 bg-gray-100 rounded-lg">
            田中 真美（14:00〜15:00）
            </li>
        </ul>
    </div>
</div>
<!--/.flex-->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const calendarEl = document.getElementById('calendar');
        const calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            locale: 'ja', // 日本語表示
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek',
            },
            eventColor: '#3B82F6',
            events: '/dashboard/instructor/events/', // Djangoから動的に渡せる
            dayCellContent: function(e) {
                return {
                    html: e.dayNumberText.replace('日', '') // 「日」を削除する
                };
            },
        });
        calendar.render();
    });
</script>
{% endblock %}